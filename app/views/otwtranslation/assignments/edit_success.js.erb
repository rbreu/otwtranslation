// Replace edit form with navigation bar on #show
$j("form#assignment_show").replaceWith(
  "<%= escape_javascript(render("navigation", 
                         :assignment => @assignment, :on_show => true)) %>");

// Replace soure and description on #show
$j("dl.assignment dd.source").html("<%= escape_javascript(@assignment.source.try(:controller_action)) %>");

$j("dl.assignment dd.description").html(
  "<%= escape_javascript(raw sanitize_field(@assignment, :description)) %>");

// Replace source and description on #index

<% if @assignment.source %>
$j("li#assignment_<%= @assignment.id %> .heading.source").html(
  "<%= escape_javascript(link_to(@assignment.source.controller_action, otwtranslation_source_path(@assignment.source)))%>");
<% else %>
  $j("li#assignment_<%= @assignment.id %> .heading.source").html("");
<% end %>

$j("li#assignment_<%= @assignment.id %> .userstuff.description").html("<%= escape_javascript(raw sanitize_field(@assignment, :description)) %>");


// Replace edit form with navigation bar on #index
$j("form#assignment").replaceWith(
  "<%= escape_javascript(render("navigation", 
                         :assignment => @assignment, :on_show => false)) %>");

